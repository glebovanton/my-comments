(function(t){function e(e){for(var a,i,s=e[0],c=e[1],l=e[2],m=0,d=[];m<s.length;m++)i=s[m],r[i]&&d.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},o=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/my-comments/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0692":function(t,e,n){"use strict";var a=n("e296"),r=n.n(a);r.a},"06f0":function(t,e,n){"use strict";var a=n("0c6e"),r=n.n(a);r.a},"0c6e":function(t,e,n){},"1b8b":function(t,e,n){"use strict";var a=n("6234"),r=n.n(a);r.a},"284d":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"header-profile"},[n("ProfileLink",{attrs:{nickName:t.currentUser.nickName,avatarUrl:t.currentUser.avatarUrl}})],1),n("CommentsPage",{attrs:{pageData:t.pageData}}),n("CommentsSection",{attrs:{currentUser:t.currentUser}})],1)},o=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comments-page"},[n("div",{staticClass:"main-img",style:{backgroundImage:"url('"+t.pageData.imageUrl+"')"}}),n("Button",{attrs:{buttonName:"Donate author",isActive:!1,bgColor:"green"}}),n("h1",[t._v(t._s(t.pageData.title))]),n("p",[t._v("\n        "+t._s(t.pageData.description)+"\n    ")])],1)},s=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"button",class:{disabled:!t.isActive},style:{color:t.bgColor}},[t._v(t._s(t.buttonName))])},l=[],u={name:"Button",props:{buttonName:{type:String,default:""},bgColor:{type:String,default:"grey"},isActive:{type:Boolean,default:!0}}},m=u,d=(n("7b25"),n("2877")),f=Object(d["a"])(m,c,l,!1,null,"73414578",null),p=f.exports,v={name:"CommentsPage",components:{Button:p},props:{pageData:{type:Object,default:function(){return{imageUrl:"",title:"",description:"Your description"}}}}},h=v,g=(n("0692"),Object(d["a"])(h,i,s,!1,null,"6058b184",null)),b=g.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comments-section"},[n("transition",{attrs:{name:"appear"}},[t.showConfirmModal?n("ConfirmationModal",{on:{confirm:function(e){return t.removeComment(t.selectedCommentIndex)},cancel:t.cancelRemove}}):t._e()],1),n("form",{attrs:{name:"comment-form",method:"post",action:""},on:{submit:function(e){return e.preventDefault(),t.addComment(e)}}},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.addCommentInput,expression:"addCommentInput",modifiers:{trim:!0}}],class:{error:t.hasError},attrs:{name:"add-comment",type:"text"},domProps:{value:t.addCommentInput},on:{input:function(e){e.target.composing||(t.addCommentInput=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),n("button",{class:{hidden:!t.addCommentInput.length},attrs:{type:"submit"}},[t._v("Send")])]),t.lists.length?n("div",{staticClass:"comments-lists"},[n("h2",[t._v("Comments:")]),n("ul",t._l(t.lists,function(e,a){return n("li",{key:a},[n("ProfileLink",{attrs:{nickName:e.user,avatarUrl:e.avatarUrl}}),n("span",{ref:"comment",refInFor:!0,staticClass:"item",attrs:{contenteditable:"false"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateComment(e,a)},blur:function(e){return t.updateComment(e,a)},click:function(t){e.isSelect=!e.isSelect}}},[t._v(t._s(e.comment))]),e.isSelect?n("div",{staticClass:"buttons-wrap"},[n("Button",{attrs:{buttonName:"Edit"},nativeOn:{click:function(e){return t.editComment(a)}}}),n("Button",{attrs:{buttonName:"delete",bgColor:"red"},nativeOn:{click:function(e){return t.confirmRemove(a)}}})],1):t._e()],1)}),0)]):t._e()],1)},_=[],y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal"},[n("div",{staticClass:"modal-window"},[n("p",[t._v("Do you really want to remove this comment?")]),n("div",{staticClass:"actions"},[n("button",{staticClass:"cancel",on:{click:t.onCancel}},[t._v("No")]),n("button",{staticClass:"confirm",on:{click:t.onConfirm}},[t._v("Yes")])])])])},k=[],U={name:"ConfirmationModal",methods:{onConfirm:function(){this.$emit("confirm")},onCancel:function(){this.$emit("cancel")}}},x=U,w=(n("eada"),Object(d["a"])(x,y,k,!1,null,"4fffc295",null)),S=w.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{staticClass:"profile_link",attrs:{id:"profile_link",href:"#"}},[n("img",{staticClass:"profile_img",attrs:{src:t.avatarUrl,alt:"avatar"}}),n("span",{staticClass:"profile_name"},[t._v(t._s(t.nickName))])])},j=[],I={name:"ProfileLink",props:{nickName:{type:String,default:"User"},avatarUrl:{type:String,default:"img/default_avatar.png"}}},N=I,P=(n("1b8b"),Object(d["a"])(N,O,j,!1,null,"6e820146",null)),$=P.exports,E={name:"CommentsSection",components:{Button:p,ConfirmationModal:S,ProfileLink:$},props:{currentUser:{type:Object,default:function(){return{nickName:"User",avatarUrl:"img/default_avatar.png"}}}},data:function(){return{addCommentInput:"",lists:[{id:1,user:"Alex",avatarUrl:"img/default_avatar.png",comment:"Great",isSelect:!1},{id:2,comment:"foo..",user:"Nick",avatarUrl:"img/default_avatar.png",isSelect:!1},{id:3,comment:"coooool",user:"Andrey",avatarUrl:"img/default_avatar.png",isSelect:!1},{id:4,comment:"coool",user:"John",avatarUrl:"img/cat_avatar.png",isSelect:!1}],hasError:!1,showConfirmModal:!1,selectedCommentIndex:null}},methods:{addComment:function(){this.addCommentInput?(this.hasError=!1,this.lists.push({id:this.lists.length+1,user:this.currentUser.nickName,avatarUrl:this.currentUser.avatarUrl,comment:this.addCommentInput,isSelect:!1}),this.addCommentInput=""):this.hasError=!0},editComment:function(t){var e=this.$refs.comment[t];e.setAttribute("contenteditable",!0),e.focus()},updateComment:function(t,e){t.preventDefault(),this.$set(this.lists[e],"comment",t.target.innerText),t.target.setAttribute("contenteditable",!1),t.target.blur()},confirmRemove:function(t){this.selectedCommentIndex=t,this.showConfirmModal=!0},cancelRemove:function(){this.showConfirmModal=!1,this.selectedCommentIndex=null},removeComment:function(t){this.$delete(this.lists,t),this.selectedCommentIndex=null,this.showConfirmModal=!1}}},M=E,D=(n("06f0"),Object(d["a"])(M,C,_,!1,null,"1fc6cbec",null)),B=D.exports,A={name:"app",components:{CommentsPage:b,CommentsSection:B,ProfileLink:$},data:function(){return{currentUser:{nickName:"John",avatarUrl:"img/cat_avatar.png"},pageData:{title:"Beautiful place, isn't it?",imageUrl:"img/сhina.jpg",description:""}}}},L=A,J=(n("5c0b"),Object(d["a"])(L,r,o,!1,null,null,null)),R=J.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(R)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var a=n("5e27"),r=n.n(a);r.a},"5e27":function(t,e,n){},6234:function(t,e,n){},"7b25":function(t,e,n){"use strict";var a=n("284d"),r=n.n(a);r.a},b97d:function(t,e,n){},e296:function(t,e,n){},eada:function(t,e,n){"use strict";var a=n("b97d"),r=n.n(a);r.a}});
//# sourceMappingURL=app.9b4c1a37.js.map